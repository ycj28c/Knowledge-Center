TODO

推荐系统主要是ML的范畴

### 系统架构
1.源数据部分  
行为数据，物品数据，其他数据。  
数据可能来自HDFS，Hive，RDBMS等。

2.推荐系统部分  
机器学习平台，实时计算平台，离线计算平台，其他平台工具。  
这里包括了系统过滤等相关性算法，机器学习模型，用户标签挖掘等等推荐算法模型训练。

并生产出数据到Redis，Hive，RDBMS等存储系统。  
通常HDFS/Hive这类分布式文件系统用来存储收集到的用户行为日志和其他服务器日志。  
RDBMS之类关系型数据库，用来存储商品等物品信息。 

3.外部调用  
通过各种API，数据库等来调用了

### 离线和实时计算
离线计算：  
用到的工具通常包括 Hadoop、Spark 等，结果可能是一份协同过滤相关性数据，可能是物品的文本主题特征，也可能是结果排序模型。通常以天为单位来执行，计算量较大。

实时计算：  
典型的流处理系统。会通过Kafka，Flume来收集实时数据源，然后通过Storm，Spark，Flink来进行实时计算，最后输出结果到Reids，HDFS，Elasticsearch中去。

### 需要哪些数据
比如Youtube，  
显式信息可以是用户的like，share，subscription的信息。  
隐性信息还有观看时间，视频标题/标签/类别，视频新鲜度等等多元化信息。  

因为数据不好会极大影响机器学习的质量，通常还需要数据过滤系统。

### 推荐算法
TODO
经典的推荐系统算法是协同过滤（CF）

协同过滤算法会先把数据处理成两个倒排表，LDA 算法会先对物品文本做分词处理，等等，我们将预处理后的数据统一称为训练数据（虽然有些离线算法并不是机器学习算法）。预处理这一步值得单独拿出来讲，这是因为很多算法用到的预处理是高度类似的，例如，文本标签类算法需要先对原始文本进行分词或词性标注，行为类相关性算法需要先将行为数据按用户聚合，点击率模型需要先将数据按照点击/展示进行聚合整理，等等。所以在设计离线挖掘的整体架构时，有必要有针对性地将数据预处理流程单独提炼出来，以方便后面的流程使用，做到更好的可扩展性和可复用性。

一种简单的算法就是A，B，C都喜欢宝马，而B，C还都喜欢奔驰，那么A也有可能喜欢奔驰。也就是相似度爱好。

## Reference
[超详细：完整的推荐系统架构设计](https://xie.infoq.cn/article/e1db36aecf60b4da29f56eeb4)
[0-1搭建个性化推荐系统的设计思路](http://www.woshipm.com/pd/4166459.html)  
